1. 일반 모드

   - 0부터 시작하여, Give up 버튼을 누를 때 공부 시간을 기록

2. 뽀모도로 모드

   - 뽀모도로 모드 켜기면 알림 허용 여부를 파악하여 토큰 저장 (거부 시 알림 허용 안내후 토글 x)
   - 설정한 시간 부터 0까지 줄어 들고 0이 되었을 때 공부 시간 기록
     - 앱이 포그라운드 상태면 인앱 진동 알림이 울림
     - 백그라운드 상태면 fcm을 통해 예약된 푸시 알림이 발송
   - 목표 시간부터 0초까지 줄어들며 종료 시 각 모드에 맞는 `진행 모션`, `알람 모달` 존재
   - 업무모드와 휴식모드가 번갈아가며 진행되고 `목표 세션을 모두 채우면 최종 알람 모달`

3. 푸시 알림

   - fcm 메세지 예약 & 취소 구현
   - 안정적인 처리를 위해 메세지큐(bull)을 사용
   - 취소를 위해 유저에게 예약된 타이머 이벤트 id를 redis를 이용하여 저장

##### 타이머 플로우

![timer-flow](../images/diagrams/main-flow.png)
